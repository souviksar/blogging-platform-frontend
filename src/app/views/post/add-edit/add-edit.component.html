<div class="card-popup-holder-pannel staf-popup">
  <!-- <button class="modal-close" mat-button (click)="onNoClick()"><i class="fa-solid fa-xmark"></i></button> -->
  <button mat-icon-button aria-label="close dialog" mat-dialog-close class="close-popup">
    <mat-icon>close</mat-icon>
  </button>
  <div class="text-center">
    <h2 mat-dialog-title>{{ data.mode === mode.ADD ? 'Add Staff' : 'Edit Staff' }}</h2>
  </div>

  <mat-dialog-content>
    <div class="row">
      @if (data.mode === mode.EDIT) {
        <form class="user-bank-account" [formGroup]="staffUpdateForm" (ngSubmit)="updateStaff()">
          <div class="col-md-12">
            <div class="form-holder">
              <mat-form-field class="form-control-holder">
                <input matInput placeholder="Name" formControlName="name" />
              </mat-form-field>
              <ng-container *ngFor="let validation of errors.name">
                <mat-error
                  *ngIf="
                    staffUpdateForm.get('name').hasError(validation.type) &&
                    (staffUpdateForm.get('name').dirty || staffUpdateForm.get('name').touched)
                  "
                  >{{ validation.message }}</mat-error
                >
              </ng-container>
            </div>

            <div class="form-holder">
              <mat-form-field class="form-control-holder">
                <input matInput placeholder="Email ID" formControlName="email" />
              </mat-form-field>
              <ng-container *ngFor="let validation of errors.email">
                <mat-error
                  *ngIf="
                    staffUpdateForm.get('email').hasError(validation.type) &&
                    (staffUpdateForm.get('email').dirty || staffUpdateForm.get('email').touched)
                  "
                  >{{ validation.message }}</mat-error
                >
              </ng-container>
            </div>

            <div class="form-holder">
              <mat-form-field class="form-control-holder">
                <input matInput placeholder="Employee ID" formControlName="employeeId" />
              </mat-form-field>
              <ng-container *ngFor="let validation of errors.employeeId">
                <mat-error
                  *ngIf="
                    staffUpdateForm.get('employeeId').hasError(validation.type) &&
                    (staffUpdateForm.get('employeeId').dirty || staffUpdateForm.get('employeeId').touched)
                  "
                  >{{ validation.message }}</mat-error
                >
              </ng-container>
            </div>

            <div class="form-holder">
              <mat-form-field class="form-control-holder">
                <input matInput placeholder="Passcode" formControlName="passcode" mask="000000" />
              </mat-form-field>
              <ng-container *ngFor="let validation of errors.passcode">
                <mat-error
                  *ngIf="
                    staffUpdateForm.get('passcode').hasError(validation.type) &&
                    (staffUpdateForm.get('passcode').dirty || staffUpdateForm.get('passcode').touched)
                  "
                  >{{ validation.message }}</mat-error
                >
              </ng-container>
            </div>

            <div class="form-holder">
              <mat-form-field class="form-control-holder">
                <input matInput placeholder="Point" formControlName="point" mask="0*" />
              </mat-form-field>
              <ng-container *ngFor="let validation of errors.point">
                <mat-error
                  *ngIf="
                    staffUpdateForm.get('point').hasError(validation.type) &&
                    (staffUpdateForm.get('point').dirty || staffUpdateForm.get('point').touched)
                  "
                  >{{ validation.message }}</mat-error
                >
              </ng-container>
            </div>
          </div>
          <mat-dialog-actions align="end">
            <button class="btn cancel-btn" mat-button mat-dialog-close>Cancel</button>
            <button class="btn ms-2">Update</button>
          </mat-dialog-actions>
        </form>
      } @else {
        <div class="col-md-12">
          <div class="form-holder">
            <form [formGroup]="addForm" (ngSubmit)="addStaff()">
              <div class="col-md-12">
                <div class="form-holder">
                  <mat-form-field class="form-control-holder">
                    <input matInput placeholder="Name" formControlName="name" />
                  </mat-form-field>
                  <ng-container *ngFor="let validation of errors.name">
                    <mat-error
                      *ngIf="addForm.get('name').hasError(validation.type) && (addForm.get('name').dirty || addForm.get('name').touched)"
                      >{{ validation.message }}</mat-error
                    >
                  </ng-container>
                </div>

                <div class="form-holder">
                  <mat-form-field class="form-control-holder">
                    <input matInput placeholder="Email ID" formControlName="email" />
                  </mat-form-field>
                  <ng-container *ngFor="let validation of errors.email">
                    <mat-error
                      *ngIf="addForm.get('email').hasError(validation.type) && (addForm.get('email').dirty || addForm.get('email').touched)"
                      >{{ validation.message }}</mat-error
                    >
                  </ng-container>
                </div>

                <div class="form-holder">
                  <mat-form-field class="form-control-holder">
                    <input matInput placeholder="Employee ID" formControlName="employeeId" />
                  </mat-form-field>
                  <ng-container *ngFor="let validation of errors.employeeId">
                    <mat-error
                      *ngIf="
                        addForm.get('employeeId').hasError(validation.type) &&
                        (addForm.get('employeeId').dirty || addForm.get('employeeId').touched)
                      "
                      >{{ validation.message }}</mat-error
                    >
                  </ng-container>
                </div>

                <div class="form-holder">
                  <mat-form-field class="form-control-holder">
                    <input matInput placeholder="Passcode" formControlName="passcode" mask="000000" />
                  </mat-form-field>
                  <ng-container *ngFor="let validation of errors.passcode">
                    <mat-error
                      *ngIf="
                        addForm.get('passcode').hasError(validation.type) &&
                        (addForm.get('passcode').dirty || addForm.get('passcode').touched)
                      "
                      >{{ validation.message }}</mat-error
                    >
                  </ng-container>
                </div>

                <div class="form-holder">
                  <mat-form-field class="form-control-holder">
                    <input matInput placeholder="Point" formControlName="point" mask="0*" [allowNegativeNumbers]="true" />
                  </mat-form-field>
                  <ng-container *ngFor="let validation of errors.point">
                    <mat-error
                      *ngIf="addForm.get('point').hasError(validation.type) && (addForm.get('point').dirty || addForm.get('point').touched)"
                      >{{ validation.message }}</mat-error
                    >
                  </ng-container>
                </div>
              </div>
              <mat-dialog-actions align="end" class="p-0">
                <button class="btn cancel-btn" mat-button mat-dialog-close>Cancel</button>
                <button class="btn ms-2" type="submit">Save</button>
              </mat-dialog-actions>
            </form>
          </div>
        </div>
      }
    </div>
  </mat-dialog-content>
</div>
